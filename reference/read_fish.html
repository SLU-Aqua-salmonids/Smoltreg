<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read sheet with fish data and do some basic cleanup. — read_fish • Smoltreg</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read sheet with fish data and do some basic cleanup. — read_fish"><meta name="description" content='Read an excel-file in the Smoltreg-format and do some basic cleanup before a data.frame
is returned.
If a vector of dummy_tags is given all tags matching are removed. The species name
is standardized to capital first letter and the rest lowercase. Columns smoltstat and
genid are uppercased. The column date_time is standarised to POSIXct and
missing values are imputed using a "last observation carried forward" algorithm.
Missing Any NA in column event are replaced with the UNKNOWN event code. Recaptured
fish without species get the species set to the same as the MARKED event for that pit tag.'><meta property="og:description" content='Read an excel-file in the Smoltreg-format and do some basic cleanup before a data.frame
is returned.
If a vector of dummy_tags is given all tags matching are removed. The species name
is standardized to capital first letter and the rest lowercase. Columns smoltstat and
genid are uppercased. The column date_time is standarised to POSIXct and
missing values are imputed using a "last observation carried forward" algorithm.
Missing Any NA in column event are replaced with the UNKNOWN event code. Recaptured
fish without species get the species set to the same as the MARKED event for that pit tag.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Smoltreg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/Smoltreg.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SLU-Aqua-salmonids/Smoltreg/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Read sheet with fish data and do some basic cleanup.</h1>
      <small class="dont-index">Source: <a href="https://github.com/SLU-Aqua-salmonids/Smoltreg/blob/master/R/functions.R" class="external-link"><code>R/functions.R</code></a></small>
      <div class="d-none name"><code>read_fish.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Read an excel-file in the <strong>Smoltreg</strong>-format and do some basic cleanup before a data.frame
is returned.
If a vector of dummy_tags is given all tags matching are removed. The species name
is standardized to capital first letter and the rest lowercase. Columns <strong>smoltstat</strong> and
<strong>genid</strong> are uppercased. The column <strong>date_time</strong> is standarised to POSIXct and
missing values are imputed using a "last observation carried forward" algorithm.
Missing Any NA in column <strong>event</strong> are replaced with the UNKNOWN event code. Recaptured
fish without species get the species set to the same as the MARKED event for that pit tag.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_fish</span><span class="op">(</span></span>
<span>  <span class="va">xlsxfile</span>,</span>
<span>  dummy_tags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sheet <span class="op">=</span> <span class="st">"Fiskdata"</span>,</span>
<span>  date_formats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"%Y-%m-%d %H:%M:%S"</span>, <span class="st">"%Y-%m-%d"</span>, <span class="st">"%m-%d-%Y %H:%M:%S"</span>,</span>
<span>    <span class="st">"%m/%d/%y.%H:%M:%S"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-xlsxfile">xlsxfile<a class="anchor" aria-label="anchor" href="#arg-xlsxfile"></a></dt>
<dd><p>Name on excel-file following the "Smoltreg"-format</p></dd>


<dt id="arg-dummy-tags">dummy_tags<a class="anchor" aria-label="anchor" href="#arg-dummy-tags"></a></dt>
<dd><p>Vector of character with tags used as dummies that should be removed</p></dd>


<dt id="arg-sheet">sheet<a class="anchor" aria-label="anchor" href="#arg-sheet"></a></dt>
<dd><p>Name of sheet with the fish data. Default = "Fiskdata"</p></dd>


<dt id="arg-date-formats">date_formats<a class="anchor" aria-label="anchor" href="#arg-date-formats"></a></dt>
<dd><p>Character vector with DateTime formats that should be tried when reading dates</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with fishdata from the smolt trap. Basic cleanup done.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anders Kagervall.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

